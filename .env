# ===========================================
# PKI SERVICE - ENVIRONNEMENT (DEV PAR DÉFAUT)
# Cohérent avec app/helper/settings.py (PKI)
# ===========================================

# =========================
# Application
# =========================
APP_NAME=PKI Service
APP_VERSION=1.0.0
LOG_LEVEL=INFO   # DEBUG en dev, INFO/ERROR en prod

# =========================
# Base de données (PostgreSQL via asyncpg)
# =========================
# Dev
DATABASE_URL=postgresql+asyncpg://postgres:sdkgames2015@localhost:5432/pki_buuns

# Prod
# DATABASE_URL=postgresql+asyncpg://pki_user:secure_password@db-host:5432/pki_buuns

# =========================
# Redis
# =========================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=

# =========================
# Sécurité & HSM
# =========================
# En dev : HSM désactivé ou dummy
HSM_DEVICE=/dev/hsm
HSM_PIN=secure_hsm_pin
HSM_KEY_HANDLE=1

# =========================
# JWT
# =========================
# ⚠️ Minimum 32 caractères
JWT_SECRET=change_me_to_a_long_random_string_of_32_chars_minimum
JWT_ALGORITHM=HS256

# =========================
# Fernet
# =========================
FERNET_KEY=0SdadPeECzueJb8bm-Cld7R9a447nBSsn8WfBzEoj8c=


# =========================
# CORS
# =========================
# En dev : wildcard (*)
ALLOWED_ORIGINS=*

# En prod : restreindre
# ALLOWED_ORIGINS=https://ton-domaine.com,https://autre-domaine.com

# =========================
# Configuration avancée PKI
# =========================
MAX_KEY_LIFETIME_DAYS=365
KEY_ROTATION_THRESHOLD_DAYS=30
